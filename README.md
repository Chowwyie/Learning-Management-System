# FakeCarmen
 
### by Team Exited With Code=0
#### Alan Chow, Quinnan Hetrick, Eddie Kubit
 
---
 
## Abstract
 
This application was developed by the team using the Ruby on Rails development framework and aimed to create a central hub in which an instructor of a college course can assign a presentation to any number or combination of students, and assign all other students a corresponding scoring and evaluation of that presentation. In using the Ruby on Rails Framework, along with the corresponding styling, embedded Ruby, etc. were inspired by the [Ruby on Rails Tutorial, 7th Edition, by Michael Hartl](https://www.railstutorial.org/).
 
---
 
## Table of Contents
 
# ***TODO***
 
---
 
## Overview
 
### Correctness
 
The application is designed to withstand malicious user actions with authetication and additional security measures.
 
#### Testing
 
Beyond extensive prototype testing with the application itself, we also included tests of each of the models (validations), controllers, and integration tests (how view is rendered, etc.)
 
### Functionality
 
Extra functionalities include:
- Dropping students
- User Authentication
- Admin ability to make announcements
- Admin ability to manage overdue evaluations
- Automatically assigning evaluations upon presentation creation
- Preventing self-evaluations
 
### Aesthetics
 
Some UI details we included to improve experience and responsiveness are:
- Responsive scaling
- Two nav bars
- Nav path in top left of dashboards to indicate users' location in application
- Simple view to support easy-to-understand functionality
- Error/success flash messages to inform user of form use
 
### Style
 
All ruby code is formatted following the rubocop style rules. Running:
 
```
$ rubocop
```
 
will show that our code is validated.
 
All HTML and CSS code was validated in a CSS/HTML validator. The source code is indented and commented in code for readability.
 
#### Style Notes:
 
rubocop will show some errors on these rails auto-generated files.
 
- bin/bundle
- db/schema.rb (generated by rails from migrations)
 
This is not code we wrote but is essential in the rails ecosystem.
 
Similarly, the importing of turbo functionality warns the HTML Validator. Once again, this is required to use the turbo gem and is not HTML that we wrote.
 
### Design
 
The HTML was designed to be fully accesible with screen readers in mind. CSS selectors were used well while taking advantage of SCSS features. MVC design followed rigidly.
 
## User Guide
 
### Initialization
 
Clone the repository to a local environment to begin using the application. The first thing to do once cloning the project and loading the code is to acquire and update the necessary Ruby Gems for the application to run. The following commands -
 
```
$ bundle install
```
and
```
$ bundle update
```
will put the proper versions of the gems on the current Ruby installation that the app requires. Next, the database for the local usage of the app needs initialized. The command
```
$ rails db:migrate
```
will create the sqlite3 files and relations specified in the app to support students, instructors, and their assignments. Then, to begin working with the preinstalled administrator, run
```
$ rails db:seed
```
to populate the application with an instructor and some stub data. This initial instructor has the following account information that can be used to sign in with.
 
| Name | Email | Password |
| ---- | ----- | -------- |
| Charlie Giles | giles.25@osu.edu | password |
 
Once the database has been initialized and seeded, running the application allows for full functionality for an administrator to begin assigning presentations and evaluations to their roster of students. Running
 
```
$ rails server
```
or the shortcut
```
$ rails s
```
begins a web server for the application on the user's local host, likely on port 3000. Opening the corresponding link will show the following home page from which a user can begin using the app.
 
# Home Page Image
 
### Working in the Application
 
#### Sign-up
 
Without signing in using the initial administrator, you can begin by registering a new student to the class. Navigate to the signup page by clicking the **Create an Account** button. This should take you to the /signup page seen below.
 
# Sign up page image
 
After filling out all of the fields, the user will be directed to the login page. Upon login, the user will have access to their dashboard.
 
#### Logging out
 
In the nav bar on the top left, the user is given the option to logout under the account dropdown.
 
## Code Guide
 
### Models
 
The central model of the database for the application is that of the user. A user has many evaluations to complete, teams for presentations, and presentations through those teams. The email is saved as an all lowercase string with a validating regex expression as outlined in the Rails tutorial mentioned in the [Abstract](#abstract). The model validates that the email is shorter than 255 characters, is unique based on the saved lowercase values, and follows the regex. The model also uses the `has_secure_password` helper to validate the user's password with a confirmation on signup on top of the model validation of the length of the password being at least 6 characters. The name of the user is validated to be shorter than 50 characters. Finally, for validity, the user must have a present name, email, and password.
 
The model for presentations establishes a presentation has many associated evaluations, teams, and many users through the teams. Our model validates that the name of the presentation is present and shorter than 50 characters. Upon creation, the grade is given a value of `nil`, but when a student submits a grade, the model requires it to be within those bounds.
 
Both the models of the evaluations and the teams state that each resource belongs to a user and belongs to a presentation. These are not the same resource, but they are both joined to tables in the same way.
 
All of these validations and the required/allowed values for the database attributes are tested in the `/test/models` directory to assert their functionality
 
### Controllers
 
Refer to the Rails guide for information on what standard Rails controller methods route to.
 
- annoucements_controller.rb
   - Responsible for actions relating to announcements. This includes ensuring authentication, making announcements, deleting them, viewing them.
- application_controller.rb - All controllers inherit this.
- evaluations_controller.rb
   - Responsible for actions relating to evaluations. This includes ensuring authentication, editing evaluations, deleting them, viewing them.
- presentations_controller.rb - Responsible for actions relating to presentation
   - Responsible for actions relating to presentations. This includes ensuring authentication, making presentations (with additional transactional steps for broadcasting evaluations), editing presentations, deleting them, viewing them.
- sessions_controller.rb
   - Responsible for actions relating to sessions. This includes the foundation for authentication, making sessions, current sessions utility functions, deleting sessions.
- static_pages_controller.rb
   - Responsible for actions relating to static pages. This includes rendering static pages
- users_pages_controller.rb - Responsible for actions relating to users
   - Responsible for actions relating to users. This includes making new users, updating them, and dropping them.
 
### Views
 
The views of interest are:
 
- announcements/index.html.erb
   - displays all anouncements. Functions as dashboard for users. Look varies based on user role.
- evaluations/edit.html.erb
   - provides a UI to submit an evaluation (for students only)
- evaluations/index.html.erb
   - provides a UI to view all evaluations (for admin only). Includes UI to unassign evaluations
- evaluations/student.html.erb
   - provides a UI to view all evaluations (for admin only). Includes UI to unassign evaluations
- evaluations/student.html.erb
   - provides a UI to view all evaluations (for admin only). Includes UI to unassign evaluations
